(function(t){function e(e){for(var i,o,a=e[0],c=e[1],u=e[2],d=0,p=[];d<a.length;d++)o=a[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},r={app:0},s=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1091:function(t,e,n){"use strict";var i=n("8271"),r=n.n(i);r.a},"49dc":function(t,e,n){},"4c9f":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view",{attrs:{"movies-id":t.resultsMovies},on:{movies:t.onMoviesFetched}})],1)},s=[],o=n("2909"),a=(n("99af"),n("d81d"),n("d3b7"),n("3ca3"),n("ddb0"),n("d4ec")),c=n("bee2"),u=n("bc3a"),l=n.n(u),d=function(){function t(){Object(a["a"])(this,t)}return Object(c["a"])(t,null,[{key:"init",value:function(){this.headers={"Content-type":"application/json"},this.apiKey="57f28b45",this.baseUrl="http://www.omdbapi.com/?apikey=".concat("57f28b45"),this.basePosterUrl="http://img.omdbapi.com/?apikey=".concat("57f28b45")}},{key:"searchByTitle",value:function(t){return l()({method:"get",url:"".concat(this.baseUrl,"&s=").concat(t),headers:this.headers})}},{key:"getMoviesByIDs",value:function(t){var e=this;return Promise.all(t.map((function(t){return l()({method:"get",url:"".concat(e.baseUrl,"&i=").concat(t),headers:e.headers})})))}}]),t}();d.init();var p=d,f={name:"app",data:function(){return{resultsMovies:[]}},methods:{onMoviesFetched:function(t){this.resultsMovies=Object(o["a"])(t)}}},h=f,v=(n("5c0b"),n("2877")),m=Object(v["a"])(h,r,s,!1,null,null,null),g=m.exports,b=n("8c4f"),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-page"},[n("div",{staticClass:"search-bar"},[n("div",{staticClass:"content"},[n("SearchInput",{attrs:{placeholder:"Search movies..."},on:{submit:t.onSearch},model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}}),n("SearchButton",{attrs:{label:"click","is-disabled":t.searchInput.length<3,"is-loading":t.isLoading},on:{click:t.onSearch}})],1),n("AlertBox",{attrs:{type:t.error?"error":"info",message:t.error}})],1)])},x=[],w=(n("96cf"),n("1da1")),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.classes},[n("div",{staticClass:"content"},[n("h4",{staticClass:"title"},[t._v(" "+t._s(t.title)+" ")]),n("p",{staticClass:"text"},[t._v(" "+t._s(t.message)+" ")])])])},k=[],C=(n("caad"),n("ade3")),S={name:"alert-box",props:{type:{type:String,default:"info",validator:function(t){return["error","info"].includes(t)}},message:{type:String,default:""}},emits:["click"],computed:{classes:function(){var t;return t={"alert-box":!0},Object(C["a"])(t,this.type,!0),Object(C["a"])(t,"active",!!this.message),t},title:function(){return"error"===this.type?"Something wrong occured":"Info"}},methods:{onClick:function(){!this.isDisabled&&this.$emit("click")}}},O=S,j=(n("5cfe"),Object(v["a"])(O,_,k,!1,null,null,null)),I=j.exports,M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{class:t.classes,on:{click:t.onClick}},[t.isLoading?i("img",{attrs:{src:n("b2fc"),alt:"loading-icon"}}):i("img",{attrs:{src:n("92ea"),alt:"search-icon"}})])},$=[],B={name:"search-button",props:{isDisabled:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},emits:["click"],computed:{classes:function(){return{button:!0,disabled:this.isDisabled,spin:this.isLoading}}},methods:{onClick:function(){!this.isDisabled&&this.$emit("click")}}},D=B,E=(n("ba0a"),Object(v["a"])(D,M,$,!1,null,null,null)),T=E.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.classes},[n("input",{staticClass:"input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value},on:{blur:t.onBlur,focus:t.onFocus,input:t.onInput,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSubmit(e)}}})])},P=[],R={name:"search-input",props:{value:{type:String,required:!0},placeholder:{type:String,default:""}},emits:["input","submit"],data:function(){return{isFocused:!1}},computed:{classes:function(){return{"input-wrapper":!0,active:this.isFocused}}},methods:{onInput:function(t){this.$emit("input",t.target.value)},onFocus:function(){this.isFocused=!0},onBlur:function(){this.isFocused=!1},onSubmit:function(){this.$emit("submit")}}},F=R,A=(n("e513"),Object(v["a"])(F,L,P,!1,null,"08942582",null)),q=A.exports,K={name:"home-page",components:{SearchButton:T,SearchInput:q,AlertBox:I},emits:["movies"],data:function(){return{searchInput:"",isLoading:!1,error:null}},methods:{getMoviesByTitles:function(){var t=Object(w["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p.searchByTitle(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),onSearch:function(t){var e=this;this.isLoading=!0,this.error=null,this.getMoviesByTitles(this.searchInput).then((function(t){var n=t.data;if(n&&!n.Error){var i=n.Search.map((function(t){var e=t.imdbID;return e}));n&&e.$emit("movies",i),e.$router.push("/results"),e.error=null}else e.error=n.Error;e.isLoading=!1})).catch((function(t){return console.warn(t.message)}))}}},U=K,G=(n("b42d"),Object(v["a"])(U,y,x,!1,null,"153074cc",null)),J=G.exports,X=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"results"},[t.isLoading||t.error?i("Spinner"):i("div",{staticClass:"slideshow"},[i("div",{staticClass:"slideshow-content",style:t.slideshowContentStyle},t._l(t.movies,(function(e,n){return i("MovieCard",{key:e.imdbID,attrs:{title:e.Title,picture:e.Poster,director:e.Director,year:e.Year,rating:e.imdbRating,genre:e.Genre,"is-active":t.index===n}})})),1),i("div",{staticClass:"btn-top"},[i("a",{staticClass:"link",on:{click:t.goToSearch}},[t._v(" Make another search ")])]),i("div",{staticClass:"btn-left"},[i("button",{staticClass:"button",attrs:{disabled:!t.index},on:{click:function(){return t.goTo(t.index-1)}}},[i("img",{attrs:{src:n("7a64"),alt:"search-icon"}})])]),i("div",{staticClass:"btn-right"},[i("button",{staticClass:"button",attrs:{disabled:t.index===t.movies.length-1},on:{click:function(){return t.goTo(t.index+1)}}},[i("img",{attrs:{src:n("92ea"),alt:"search-icon"}})])])])],1)},Y=[],z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.classes},[n("div",{staticClass:"content"},[n("img",{staticClass:"poster",attrs:{src:t.picture,alt:"Movie poster - "+t.title}}),n("div",{staticClass:"body"},[n("h2",{staticClass:"title"},[t._v(" "+t._s(t.title)+t._s(" ("+t.year+")")+" ")]),n("p",{staticClass:"text"},[t._v(" Director: "+t._s(t.director)+" ")]),n("p",{staticClass:"text"},[t._v(" Genre: "+t._s(t.genre)+" ")]),n("p",{staticClass:"text"},[t._v(" Rating: "+t._s(t.rating)+" ")])])])])},H=[],N={name:"movie-card",props:{director:{type:String,required:!0},picture:{type:String,default:""},title:{type:String,required:!0},year:{type:String,required:!0},rating:{type:String,required:!0},genre:{type:String,required:!0},isActive:{type:Boolean,default:!1}},emits:["click"],computed:{classes:function(){return{"movie-card":!0,active:this.isActive}}}},Q=N,V=(n("7654"),Object(v["a"])(Q,z,H,!1,null,"17305e2e",null)),W=V.exports,Z=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},tt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"spinner"},[n("div"),n("div"),n("div"),n("div")])])}],et={name:"spinner"},nt=et,it=(n("9ce6"),Object(v["a"])(nt,Z,tt,!1,null,"7995a30b",null)),rt=it.exports,st={name:"results-page",components:{MovieCard:W,Spinner:rt},props:{"movies-id":{type:Array,default:function(){return[]}}},data:function(){return{isLoading:!0,error:null,index:0,movies:[]}},computed:{slideshowContentStyle:function(){return{width:"".concat(this.movies.length,"00%"),transform:"translateX(-".concat(this.index*(100/this.movies.length),"%)")}}},created:function(){var t=this;this.moviesId&&this.moviesId.length?this.getMoviesByIDs(this.moviesId).then((function(e){t.movies=e.map((function(t){return t.data})),t.isLoading=!1,t.error=null})).catch((function(e){t.isLoading=!1,t.error=e.message,console.warn("ERROR",e.message)})):this.$router.push("/")},mounted:function(){window.addEventListener("keydown",this.onKeyDown)},unmounted:function(){window.removeEventListener("keydown",this.onKeyDown)},methods:{getMoviesByIDs:function(){var t=Object(w["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p.getMoviesByIDs(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),goTo:function(t){t<0?this.index=0:t>this.movies.length-1?this.index=this.movies.length-1:this.index=t},goToSearch:function(){this.$router.push("/")},onKeyDown:function(t){"ArrowLeft"===t.key&&this.goTo(this.index-1),"ArrowRight"===t.key&&this.goTo(this.index+1)}}},ot=st,at=(n("1091"),Object(v["a"])(ot,X,Y,!1,null,"7a093130",null)),ct=at.exports;i["a"].use(b["a"]);var ut=[{path:"/",name:"home",component:J},{path:"/results",name:"results",component:ct,props:!0}],lt=new b["a"]({mode:"history",routes:ut}),dt=lt;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(g)},router:dt}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var i=n("9c0c"),r=n.n(i);r.a},"5cfe":function(t,e,n){"use strict";var i=n("817e"),r=n.n(i);r.a},7654:function(t,e,n){"use strict";var i=n("d5d6"),r=n.n(i);r.a},"7a64":function(t,e,n){t.exports=n.p+"img/icon-previous.0f2013d7.svg"},"817e":function(t,e,n){},8271:function(t,e,n){},"92ea":function(t,e,n){t.exports=n.p+"img/icon-next.0f3c731a.svg"},"9c0c":function(t,e,n){},"9ce6":function(t,e,n){"use strict";var i=n("49dc"),r=n.n(i);r.a},b2fc:function(t,e,n){t.exports=n.p+"img/icon-circular-arrow.5b4eaa1f.svg"},b42d:function(t,e,n){"use strict";var i=n("baa0"),r=n.n(i);r.a},ba0a:function(t,e,n){"use strict";var i=n("c8ce"),r=n.n(i);r.a},baa0:function(t,e,n){},c8ce:function(t,e,n){},d5d6:function(t,e,n){},e513:function(t,e,n){"use strict";var i=n("4c9f"),r=n.n(i);r.a}});
//# sourceMappingURL=app.b61a7dd9.js.map